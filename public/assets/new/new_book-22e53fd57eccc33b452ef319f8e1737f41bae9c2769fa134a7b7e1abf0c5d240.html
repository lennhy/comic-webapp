<br>
<h3>Upload a Book</h3>

<div id="message">
</div>
<form name="newForm" ng-submit="vm.createBook()">

  <!--  TITLE  -->
  <label for="title"> Title: </label><br>
  <input ng-model="vm.book.title" type="text" name="title" required="required"/><br></br>

  <div ng-messages="newForm.title.$error" ng-if="newForm.title.$touched">
    <div ng-message="required">A region is required!</div>
  </div>

  <!--  DESCRIPTION  -->
  <label for="description"> Description: </label><br>
  <input ng-model="vm.book.description" type="text" minlength="10" name="description" required="required" /><br></br>

  <div ng-messages="newForm.description.$error" ng-if="newForm.description.$touched">
    <div ng-message="required">A Desciption is required!</div>
    <div ng-message="minlength">Must be more than 10 characters!</div>
  </div>

  <!--  ISSUE  -->
  <label for="issue"> Issue number: </label><br>
  <input  ng-model="vm.book.issue" name="issue" type="number" required="required" /><br></br>

  <div ng-messages="newForm.issue.$error" ng-if="newForm.issue.$touched">
      <div ng-message="required">An issue number is required!</div>
  </div>


  <!-- VOLUME  -->
  <label for="volume"> volume: </label><br>
  <input  ng-model="vm.book.volume" name="volume" type="number" required="required" /><br></br>

  <div ng-messages="newForm.volume.$error" ng-if="newForm.volume.$touched">
      <div ng-message="required">A volume number is required!</div>
  </div>

  <!--  PAGE COUNT  -->
  <label for="Page Count"> Page Count: </label><br>
  <input  ng-model="vm.book.page_count" type="number" name="pageCount"required="required" /><br></br>

  <div ng-messages="newForm.pageCount.$error" ng-if="newForm.pageCount.$touched">
      <div ng-message="required">An page count is required!</div>
  </div>

  <!--  ISSUE DATE  -->
  <label for="Issue Date"> Issue Date: </label><br>
  <input ng-model="vm.book.issue_date" type="date" name="issueDate" required="required" /><br></br>

  <div ng-messages="newForm.issueDate.$error" ng-if="newForm.issueDate.$touched">
      <div ng-message="required">An issue date is required!</div>
  </div>


  <!-- OPTIONS DROPDOWN FOR REGIONS -->
  <label for="region"> Region: </label><br>

  <select ng-model="vm.book.region_id" >

    <option ng-repeat="region in vm.regions" required="required" value="{{region.id}}">{{region.name}}</option>

  </select><br></br>


  <!-- OPTIONS DROPDOWN FOR GENRES -->
  <label ng-repeat="genre in vm.genres">
    <input type= "checkbox" ng-model="vm.book.genre_ids[$index]"  name= "genre.name" ng-true-value="{{genre.id}}" ng-false-value="">
      {{genre.name}}
 </label>

 <h1>You selected: {{vm.book.genre_ids}}</h1>


 <!-- RADIO BUTTON FIELDS FOR GRAPHIC NOVEL -->
  <label for="Graphic Novel"> Graphic Novel: </label>

  <label for="Graphic Novel"> Yes: </label>

  <input  ng-model="vm.book.graphic_novel" type="radio" name="graphic_novel" value="true"/>


  <label for="Graphic Novel"> No: </label>

  <input  ng-model="vm.book.graphic_novel" type="radio" name = "graphic_novel" value="false"/>

  <div ng-messages="newForm.graphic_novel.$errors">
      <div ng-message="multipleInput">You need to state if the book is a graphic novel or not</div>
  </div><br>

  <input type="submit" id="create-book" value="create"/>

</form>

<form name="form" ng-submit="vm.uploadPages()">


  <!-- SINGLE UPLOAD COVER -->
  <div id="preview"></div>
  <label for="myFileField">Select a file: </label>
  <input type="file" file-model="vm.book.cover"  id ="cover" disabled=true>
  <!-- <uploader ng-model="vm.book.cover"><uploader/> -->


  <!-- MULTIPLE UPLOAD PAGES-->
  <label>Upload Pages all pages must be numbered in chronological order</label>
  <ul ng-repeat="image in vm.upload">
    <div id="preview_pages"></div>
    <img ng-src="{{image.url}}">
  </ul>
  <input type="file" file-model="vm.book.page_attachments_attributes"  id ="page_attachments_attributes" multiple disabled=true>
  <input type="submit" id="upload-images" disabled=true value="Upload images"/>

</form>
